<section class="image-detail">
  <div class="form-card">
    <div class="image-detail-header">
      <h1 class="image-detail-title">{{image.title}}</h1>
      <div class="detail-actions">
        <button class="btn-primary" type="button" data-like-button data-image-id="{{image.id}}">
          ğŸ‘ æŒ‰è®š <span class="like-count" data-like-count>{{image.likes}}</span>
        </button>
        <div class="image-stats">
          <span>ğŸ‘ï¸ {{image.views}}</span>
          <span>ğŸ’¬ {{comments.length}}</span>
        </div>
      </div>
    </div>
    <figure>
      <img src="{{image.fileUrl}}" alt="{{image.title}}">
    </figure>
    {{#if image.description}}
      <p class="image-description">{{image.description}}</p>
    {{/if}}
  </div>

  <section class="comment-section">
    <div class="comment-header">
      <h2>ç•™è¨€ ({{comments.length}})</h2>
      <button class="btn-secondary" type="button" data-comment-toggle>æ–°å¢ç•™è¨€</button>
    </div>
    {{#if comments.length}}
      <ul class="comment-list">
        {{#each comments}}
          <li class="comment-item">
            <div class="comment-meta">
              <strong>{{this.name}}</strong>
              <span>{{formatDate this.createdAt}}</span>
            </div>
            <p>{{this.text}}</p>
          </li>
        {{/each}}
      </ul>
    {{else}}
      <p class="empty">ç›®å‰é‚„æ²’æœ‰ç•™è¨€ï¼Œæˆç‚ºç¬¬ä¸€ä½ç•™è¨€è€…å§ï¼</p>
    {{/if}}

    <form
      class="comment-form"
      action="/images/{{image.id}}/comment"
      method="post"
      data-comment-form
      hidden
    >
      <div class="form-grid">
        <div class="input-field">
          <label for="name">æš±ç¨±</label>
          <input id="name" name="name" type="text" placeholder="ç•™ä¸‹ä½ çš„åå­—">
        </div>
        <div class="input-field">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="æ–¹ä¾¿æˆ‘å€‘ä¿æŒè¯ç¹«">
        </div>
      </div>
      <div class="input-field">
        <label for="text">ç•™è¨€å…§å®¹</label>
        <textarea id="text" name="text" placeholder="å¯«ä¸‹ä½ æƒ³èªªçš„è©±" required></textarea>
      </div>
      <button class="btn-primary" type="submit">é€å‡ºç•™è¨€</button>
    </form>
  </section>
</section>
